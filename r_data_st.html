<!DOCTYPE html>
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>R: Data structures</title>
<link rel="stylesheet" href="style.css"/>
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous"/>
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@200;300;400;600&display=swap"/>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"/>
</head>

<body>

<!-- Top Bar -------------------------------------------------------------->
<div class = "topBar">
<div class = "topTitle">GriffinEvo: <span class = "topPage">Data structures</span></div>
<div class = "openNav" onclick="openNav()">&#9776;</div>
<div id="sideNav" class="sidenav">
<a href="javascript:void(0)" class="closeNav" onclick="closeNav()">&times;</a>
<a href="index.html">Home</a>
<a class="accordion">R Notes</a>
<div class="panel">
<a href="r_intro.html">Intro</a>
<a href="r_data_st.html">Data structures</a>
</div>
<div class = "navIconCon">
<a href = "https://twitter.com/griffinevo" target = "_blank"><i class = "navIcon fa fa-twitter"></i></a>
<a href = "https://www.linkedin.com/in/robgriffin247" target = "_blank"><i class = "navIcon fab fa-linkedin-square"></i></a>
<a href = "mailto:robgriffin247@hotmail.com" target = "_blank"><i class = "navIcon fas fa-envelope"></i></a>
</div>
</div>
</div>


<!--begin.rcode, echo = FALSE
rm(list=ls())
set.seed(132)
knitr::opts_chunk$set(results="hold", comment="")
end.rcode-->

<!-- Main section -->
<div class = "mainBody">

<p>R handles data in structures, there are four key structures:</p>

<ul>
  <li>Atomic vectors</li>
  <li>Matrices</li>
  <li>Lists</li>
  <li>Data frames</li>
</ul>

<p>This section covers these four data structures as well as data type and logical operations, and revisits assignment and the workspace.</p>



<div class="h1 break">Structure: atomic vectors</div>            

<p>Atomic vectors, or as every knows them, just "<strong>vectors</strong>" are the most important and fundamental data structure in R. Understanding them will take you a long way forward in getting to grips with R. Vectors are created by passing comma-separated data values, or <strong>elements</strong>, to the concatenate function, <span class="ri">c()</span>.</p>

<!--begin.rcode
# This is a vector of three elements, A, B and C
c("A", "B", "C")
end.rcode-->

<p>Vectors have two features of note. Firstly they are one-dimensional. This means they have a <strong>length</strong> which is the number of elements that they contain. This count can be returned using the <span class = "ri">length()</span> function. Even a single value, which can be given without concatenation (because there is no concatenation with one value), is a vector in R.</p>

<!--begin.rcode
length(c("A", "B", "C"))

12.6 # this is a vector containing the value 12.6
length(12.6)
end.rcode-->


<p>The second feature to note is that they carry data of only one <strong>type</strong>. Data type ca be returned using the <span class = "ri">typeof()</span> function. While the type of a vector is determined by the elements it contains, type is a property of the vector itself, not the data; <span class = "ri">typeof()</span> therefore returns a single value. There are four main types of data that users will encounter; other types do exist but are rarely used except by advanced R programmers. They are:</p>

<ul>
  <li>Logical</li>
  <li>Integer</li>
  <li>Double</li>
  <li>Character</li>
</ul>

<div class="h1">Type: logical</div>            

<p><strong>Logical</strong> type data is the most basic of the four. It uses little memory but contains little information as it can be one of two values; <span class = "ri">TRUE</span> and <span class = "ri">FALSE</span>.</p>

<!--begin.rcode
c(TRUE, FALSE, FALSE)
end.rcode-->


<p>The values <span class = "ri">TRUE</span> and <span class = "ri">FALSE</span> can also be written as <span class = "ri">T</span> and <span class = "ri">F</span> respectively. This is commonly done when setting arguments in functions but, as shown below, the shortening of <span class = "ri">TRUE</span> and <span class = "ri">FALSE</span> can become problematic because it is possible to overwrite the meaning of <span class = "ri">T</span> and <span class = "ri">F</span>.</p>

<!--begin.rcode
# Get the mean and remove NAs (missing data) from the calculation:
mean(c(3, 6, 8, NA, 5), na.rm = T)

# Make the value of T to be FALSE
T <- FALSE
T
mean(c(3, 6, 8, NA, 5), na.rm = T)

# ... let's just fix that
T <- TRUE
end.rcode-->

<br/>

<div class = "box">
<div class = "h1">Box: Assignment</div>
<p>Objects, assignment and the workspace were covered in other sections. Just in case you need a refresher, in the above script we see the assignment operator <span class = "ri">&lt;-</span>. This assigns an object (in this last case, a vector of one element; TRUE) on the right-hand side of the operator to a named variable (in this case, T). Variables assigned by the user are present in the workspace and can be recalled or used in functions by using the object name. 

<!--begin.rcode
# e.g. First create a vector of numbers called v1:
v1 <- c(6, 2, 8, 2, 1, 9, 11)

# Then repeatedly use that vector
mean(v1)
median(v1)
min(v1)
sum(v1)
end.rcode-->

The <span class="ri">=</span> is also commonly used as an assignment operator, but it is better to use <span class = "ri">&lt;-</span> as it's meaning is clearer and more consistent.

<!--begin.rcode
v1 = c(6, 2, 8, 2, 1, 9, 11) # Is equivalent to the above
v1
end.rcode-->

</div>

<p>A useful property of logical vectors is that R will convert <span class = "ri">TRUE</span> and <span class = "ri">FALSE</span> to values of <span class = "ri">1</span> and <span class = "ri">0</span> when it expects numerical data; this can make it quick and elegant to find, for example, the number and proportion of cases where a value is <span class = "ri">TRUE</span>.

<!--begin.rcode
v_logical <- c(TRUE, TRUE, FALSE, FALSE, TRUE)
sum(v_logical)
mean(v_logical)
end.rcode-->

<br/>

<div class="h1">Type: integer</div>            

<p><strong>Integer</strong> type data is the next most basic of the four types. Integer data is data of whole numbers, those used for counting, phone numbers etc. where fractions cannot occur. Values are numeric and suffixed by an <span class = "ri">L</span> which tells R that it is an integer.</p>

<!--begin.rcode
# Integers specified explicitly by a number followed by L
v_integer <- c(1L, 2L, 3L, 4L, 5L, 6L)
v_integer

# Tip: numerical sequences can be automatically generated using :
v_integer <- c(1L:6L) # is the same as above
v_integer <- c(1:6) # ... and the L can be dropped as : creates a sequence of integers
v_integer

typeof(v_integer)
end.rcode-->

<p>Logical and integer vectors will come in very handy when indexing data structures later to subset and order data.</p>

<div class="h1">Type: double</div>            

<p>Another numerical data type is <strong>double</strong> type data. Double type data allows "real" numbers, those with decimals/fractions. However, while double type data <em>allows</em> decimals, the data does not necessarily have to have them.</p>


<!--begin.rcode
v_double <- c(1, 2, 3, 4, 5)
v_double
typeof(v_double)
end.rcode-->

<p>A sequence of double type values can also be easily created using the <span class = "ri">seq()</span> function which takes three arguments; <span class = "ri">from</span> which is the first value, <span class = "ri">to</span> which is the last value and <span class = "ri">by</span> which is the interval between numbers (which defaults to 1). <span class = "ri">length.out</span> can be used instead of <span class = "ri">by</span> if there is a specific length of sequence needed. The output of <span class = "ri">seq()</span> is then a double type vector of elements.</p>

<!--begin.rcode
seq(1, 5, 1) 
seq(1, 2, 0.1) 
seq(1, 2, length.out = 20) 

# Use the output to create a vector object of double type values
v_double <- seq(1, 5, 1) # ... beats typing out all the values
v_double
typeof(v_double)
end.rcode-->

<p>One often useful built-in value of double-type data is <span class="ri">pi</span> which is a vector of length one.</p>

<!--begin.rcode
pi # A useful value to have available!
length(pi)
typeof(pi)
end.rcode-->

<br/>


<div class="h1">Type: character</div>

<p>The last of the four main types is <strong>character</strong> type data which allows the greatest complexity - elements can be long strings containing letters, numbers and special characters - but also is the largest data type, consuming the most memory. Elements of character data are each wrapped in quotes, either single (<span class="ri">'</span>) or double (<span class="ri">"</span>) can be used as long as there is a matching pair. I tend to use double as this allows strings to contain single quotes if needed:</p>

<!--begin.rcode
v_character <- c("hope", "you're", "having", "fun!")
typeof(v_character)
length(v_character)
end.rcode-->

<p>When we use character data in a function that would intuitively be using numeric data, such as <span class="ri">mean()</span> or <span class="ri">sum()</span>, R will not know what to do and return a value of <span class="ri">NA</span> (missing data/unknown value, see below) and give a <strong>warning</strong> but not an <strong>error</strong> so a script will continue to execute.</p>

<!--begin.rcode
mean(v_character)
end.rcode-->

<p>There are some useful <strong>built-in character vectors</strong> too, such as data on US states, month abbreviations and the alphabet.</p>

<!--begin.rcode
letters
LETTERS
month.abb
state.abb
state.name
end.rcode-->

<br/>





</div>
</body>


<script>
function openNav() {
document.getElementById("sideNav").style.width = "450px";
}

function closeNav() {
document.getElementById("sideNav").style.width = "0";
}
</script> 

<script>
var acc = document.getElementsByClassName("accordion");
var i;

for (i = 0; i < acc.length; i++) {
acc[i].addEventListener("click", function() {
this.classList.toggle("active");
var panel = this.nextElementSibling;
if (panel.style.maxHeight) {
panel.style.maxHeight = null;
} else {
panel.style.maxHeight = panel.scrollHeight + "px";
}
});
}
</script>
